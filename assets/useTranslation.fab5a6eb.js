import{_ as k}from"./slicedToArray.46bf6900.js";import{c as A}from"./nonIterableRest.3d34b57d.js";import{r as c}from"./index.2e2f892a.js";import{I as R,R as F,g as B,b as J}from"./context.9bf2a7fc.js";function M(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var T={};function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),M.apply(void 0,e))}function E(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var a=function u(){setTimeout(function(){t.off("initialized",u)},0),n()};t.on("initialized",a)}})}function U(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],u=e.options?e.options.fallbackLng:!1,p=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var r=function(d,f){var m=e.services.backendConnector.state["".concat(d,"|").concat(f)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!r(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(a,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||r(a,t)&&(!u||r(p,t)))}function H(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return N("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(t,{precheck:function(p,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&p.services.backendConnector.backend&&p.isLanguageChangingTo&&!r(p.isLanguageChangingTo,t))return!1}}):U(t,e,n)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,a)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(a){A(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var K=function(e,n){var a=c.exports.useRef();return c.exports.useEffect(function(){a.current=n?a.current:e},[e,n]),a.current};function Q(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,a=c.exports.useContext(R)||{},u=a.i18n,p=a.defaultNS,r=n||u||J();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new F),!r){N("You will need to pass in an i18next instance by using initReactI18next");var y=function(s){return Array.isArray(s)?s[s.length-1]:s},d=[y,{},!1];return d.t=y,d.i18n={},d.ready=!1,d}r.options.react&&r.options.react.wait!==void 0&&N("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=S(S(S({},B()),r.options.react),e),m=f.useSuspense,P=f.keyPrefix,o=t||p||r.options&&r.options.defaultNS;o=typeof o=="string"?[o]:o||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(o);var g=(r.isInitialized||r.initializedStoreOnce)&&o.every(function(i){return H(i,r,f)});function v(){return r.getFixedT(null,f.nsMode==="fallback"?o:o[0],P)}var D=c.exports.useState(v),I=k(D,2),C=I[0],h=I[1],x=o.join(),j=K(x),l=c.exports.useRef(!0);c.exports.useEffect(function(){var i=f.bindI18n,s=f.bindI18nStore;l.current=!0,!g&&!m&&E(r,o,function(){l.current&&h(v)}),g&&j&&j!==x&&l.current&&h(v);function w(){l.current&&h(v)}return i&&r&&r.on(i,w),s&&r&&r.store.on(s,w),function(){l.current=!1,i&&r&&i.split(" ").forEach(function(O){return r.off(O,w)}),s&&r&&s.split(" ").forEach(function(O){return r.store.off(O,w)})}},[r,x]);var L=c.exports.useRef(!0);c.exports.useEffect(function(){l.current&&!L.current&&h(v),L.current=!1},[r,P]);var b=[C,r,g];if(b.t=C,b.i18n=r,b.ready=g,g||!g&&!m)return b;throw new Promise(function(i){E(r,o,function(){i()})})}export{Q as u};
//# sourceMappingURL=useTranslation.fab5a6eb.js.map
