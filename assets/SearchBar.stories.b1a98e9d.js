import{R as M,r as p}from"./index.2e2f892a.js";import{j as e,a as f}from"./jsx-runtime.db436af5.js";import{A}from"./arrow-left.73fabcbf.js";import{B as q}from"./Badge.33adfbc9.js";import{u as R}from"./useTranslation.6e55b81a.js";import{A as V}from"./AntdDecorator.e8a19c10.js";import"./_commonjsHelpers.712cc82f.js";import"./Rate.ddf9baba.js";import"./slicedToArray.a85404c5.js";import"./nonIterableRest.a72c2085.js";import"./defineProperty.bb51ac4e.js";import"./context.126bc06e.js";import"./index.881b564b.js";import"./extends.f25a7a22.js";import"./format-input.6ffc2f8a.js";import"./toArray.a9612acc.js";import"./assertThisInitialized.220b4aa7.js";const E=a=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${a.className}`,children:e("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})});try{magnifyingglass.displayName="magnifyingglass",magnifyingglass.__docgenInfo={description:"",displayName:"magnifyingglass",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const T=a=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`${a.className}`,children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})});try{xcircle.displayName="xcircle",xcircle.__docgenInfo={description:"",displayName:"xcircle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const j=a=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${a.className}`,children:e("path",{d:"M10 3.75a2 2 0 10-4 0 2 2 0 004 0zM17.25 4.5a.75.75 0 000-1.5h-5.5a.75.75 0 000 1.5h5.5zM5 3.75a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 01.75.75zM4.25 17a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5zM17.25 17a.75.75 0 000-1.5h-5.5a.75.75 0 000 1.5h5.5zM9 10a.75.75 0 01-.75.75h-5.5a.75.75 0 010-1.5h5.5A.75.75 0 019 10zM17.25 10.75a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5zM14 10a2 2 0 10-4 0 2 2 0 004 0zM10 16.25a2 2 0 10-4 0 2 2 0 004 0z"})});try{adjustmentshorizontal.displayName="adjustmentshorizontal",adjustmentshorizontal.__docgenInfo={description:"",displayName:"adjustmentshorizontal",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const u=({value:a,placeholder:r,className:l="",filter:s=!0,filtering:o=!1,doneType:i="search",onFilter:x,onChange:m,onPrefix:b,onFocus:h},w)=>{const{t:N}=R(),c=p.exports.useRef(null),[n,d]=p.exports.useState(!1);p.exports.useImperativeHandle(w,()=>({focus(){c.current&&(c.current.focus(),d(!0))}}));const C=()=>{h&&h(),d(!0)},B=()=>{d(!1)},z=S=>{m&&m(S)};return f("div",{className:`${l} relative rounded-lg bg-secondary overflow-hidden`,children:[f("label",{className:"flex",children:[e("button",{className:"cursor-pointer icon-secondary pointer-events-none py-3.5 px-4",onClick:b,children:e("div",{children:n||i==="previous"?e(A,{}):e(E,{})})}),e("input",{id:"search-bar",ref:c,type:"search",value:a,placeholder:r||N("search"),className:`
            search-cancel:appearance-none search-cancel:bg-[url('~/assets/img/heroicons/mini/x-circle.svg')] search-cancel:w-5 search-cancel:h-5 search-cancel:icon-tertiary
            grow h-12 bg-secondary outline-0 placeholder:text-placeholder text-body-s
            ${n&&a?"pr-3":"pr-4"}`,onChange:z,onFocus:C,onBlur:B})]}),n&&!a&&e("div",{className:"w-13 h-12 absolute top-0 right-0 py-3.5 px-4",children:e(T,{className:"icon-disabled"})}),!n&&s&&e("button",{className:"absolute top-0 right-0 w-13 h-12 py-3.5 px-4 cursor-pointer",onClick:x,children:e(q,{type:"dot",show:o,className:"",children:e(j,{className:"icon-secondary"})})}),o]})},_=M.forwardRef(u);try{u.displayName="SearchBar",u.__docgenInfo={description:"",displayName:"SearchBar",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},filter:{defaultValue:{value:"true"},description:"",name:"filter",required:!1,type:{name:"boolean"}},filtering:{defaultValue:{value:"false"},description:"",name:"filtering",required:!1,type:{name:"boolean"}},doneType:{defaultValue:{value:"search"},description:"",name:"doneType",required:!1,type:{name:"enum",value:[{value:'"search"'},{value:'"previous"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: SearchEventType) => void)"}},onFilter:{defaultValue:null,description:"",name:"onFilter",required:!1,type:{name:"(() => void)"}},onPrefix:{defaultValue:null,description:"",name:"onPrefix",required:!1,type:{name:"(() => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}}}}}catch{}const{useArgs:H}=__STORYBOOK_MODULE_STORE__,ee={title:"Components/SearchBar",component:_,decorators:[V],parameters:{docs:{source:{type:"dynamic",excludeDecorators:!0}}},argTypes:{value:{control:"text",description:"The search bar content value.",table:{type:{summary:"string"}}},prefixType:{control:"select",options:["search","previous"]},placeholder:{control:"text",description:"A short hint that describes the expected value of a search bar.",table:{type:{summary:"string"}}},filter:{control:"boolean",description:"Whether the search bar has a filter suffix icon or not.",table:{type:{summary:"boolean"}}},filtering:{control:"boolean",description:"Whether the search bar filter is filtering or not.",table:{type:{summary:"boolean"}}},onChange:{control:!1,description:"Specify a function that will be called when a user input.",table:{type:{summary:"(e: ChangeEvent<HTMLInputElement>) => void"}}},onFilter:{control:!1,description:"Specify a function that will be called when a user click filter icon.",table:{type:{summary:"() => void"}}},onPrefix:{control:!1,description:"Specify a function that will be called when a user click prefix icon.",table:{type:{summary:"() => void"}}},onFocus:{control:!1,description:"Sepcify a function that will be called when a user focus on search bar.",table:{type:{summary:"() => void"}}}},args:{value:"",prefixType:"search",placeholder:"\u5C0B\u627E\u5065\u8EAB\u52D5\u4F5C",filter:!0,filtering:!1}},t=({placeholder:a,filtering:r})=>{const[{value:l},s]=H();return e("div",{className:"p-4",children:e(_,{value:l,placeholder:a,filtering:r,onChange:i=>{s({value:i.target.value})}})})};var g,y,v;t.parameters={...t.parameters,docs:{...(g=t.parameters)==null?void 0:g.docs,source:{originalSource:`({
  placeholder,
  filtering
}: SearchBarProps) => {
  const [{
    value
  }, updateArgs] = useArgs();
  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {
    updateArgs({
      value: e.target.value
    });
  };
  return /*#__PURE__*/_jsx("div", {
    className: "p-4",
    children: /*#__PURE__*/_jsx(HCSearchBar, {
      value: value,
      placeholder: placeholder,
      filtering: filtering,
      onChange: onChangeHandler
    })
  });
}`,...(v=(y=t.parameters)==null?void 0:y.docs)==null?void 0:v.source}}};const ae=["Basic"];export{t as Basic,ae as __namedExportsOrder,ee as default};
//# sourceMappingURL=SearchBar.stories.b1a98e9d.js.map
