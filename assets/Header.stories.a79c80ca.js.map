{"version":3,"file":"Header.stories.a79c80ca.js","sources":["../../src/hooks/utils/useScrollDirection.tsx","../../src/components/Header/Header.tsx","../../src/components/Header/HeaderIconButton.tsx","../../src/components/Header/HeaderRegion.tsx","../../src/components/Header/index.ts","../../src/assets/img/heroicons/mini/plus.tsx","../../src/assets/img/heroicons/mini/ellipsis-vertical.tsx","../../src/hooks/utils/useHeight.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useScrollDirection = () => {\n  const threshold = 10;\n  const [isDown, setDown] = useState(false);\n  const [isFully, setFully] = useState(true);\n\n  useEffect(() => {\n    let previousPosition = window.pageYOffset;\n\n    const scrollMoreThanThreshold = (currentPosition: number) =>\n      Math.abs(currentPosition - previousPosition) > threshold;\n\n    const isScrollingDown = (currentPosition: number) => currentPosition > previousPosition;\n\n    const updagteScrollingDirection = () => {\n      const currentPosition = window.pageYOffset;\n\n      if (scrollMoreThanThreshold(currentPosition)) {\n        setDown(isScrollingDown(currentPosition));\n        previousPosition = currentPosition > 0 ? currentPosition : 0;\n      }\n\n      if (currentPosition === 0) {\n        setFully(true);\n      } else {\n        setFully(false);\n      }\n    };\n\n    const onScroll = () => window.requestAnimationFrame(updagteScrollingDirection);\n\n    window.addEventListener('scroll', onScroll, true);\n\n    return () => {\n      window.removeEventListener('scroll', onScroll);\n    };\n  }, []);\n\n  return [isDown, isFully];\n};\n\nexport default useScrollDirection;\n","import { useState, useEffect, ForwardRefRenderFunction, forwardRef, Fragment } from 'react';\r\n\r\nimport LogoMark from '~/assets/img/logo-mark.svg';\r\n\r\nimport useScrollDirection from '~/hooks/utils/useScrollDirection';\r\n\r\nimport type { HeaderProps } from '.';\r\n\r\nconst HCHeader: ForwardRefRenderFunction<HTMLDivElement, HeaderProps> = (\r\n  {\r\n    children,\r\n    className = '',\r\n    size,\r\n    title = <img className='w-7' src={LogoMark} alt='LOGO' />,\r\n    prefix,\r\n    suffix,\r\n    behavior,\r\n    toolBar = true,\r\n  }: HeaderProps,\r\n  ref,\r\n) => {\r\n  const [isDown, isFully] = useScrollDirection();\r\n\r\n  const [sizeClass, setSizeClass] = useState('');\r\n  const [titleVisibleClass, setTitleVisibleClass] = useState('opacity-0');\r\n\r\n  useEffect(() => {\r\n    const initSizeClass = () => {\r\n      switch (size) {\r\n        case 'l':\r\n          setSizeClass('py-6');\r\n          break;\r\n        case 'm':\r\n          setSizeClass('py-3.5');\r\n          break;\r\n        case 's':\r\n          setSizeClass('py-0');\r\n          break;\r\n      }\r\n    };\r\n\r\n    initSizeClass();\r\n  }, [size]);\r\n\r\n  useEffect(() => {\r\n    switch (behavior) {\r\n      case 'expanded':\r\n        isDown ? setTitleVisibleClass('opacity-100') : setTitleVisibleClass('opacity-0');\r\n        break;\r\n      case 'fully':\r\n        isFully ? setTitleVisibleClass('opacity-0') : setTitleVisibleClass('opacity-100');\r\n        break;\r\n      default:\r\n        setTitleVisibleClass('opacity-100');\r\n        break;\r\n    }\r\n  }, [behavior, title, isDown, isFully]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div\r\n        ref={ref}\r\n        className={`${className} ${sizeClass} sticky top-0 left-0 w-full bg-primary z-20`}\r\n        // border-b border-secondary\r\n      >\r\n        {/* Tool bar */}\r\n        {toolBar && (\r\n          <div className={`h-11 flex text-secondary z-10`}>\r\n            <div className='flex-1 hover:cursor-pointer flex justify-start items-center pl-1'>\r\n              {prefix}\r\n            </div>\r\n            <div\r\n              className={`${titleVisibleClass} transition-opacity duration-300\r\n            flex justify-center items-center text-heading-xs text-primary`}\r\n            >\r\n              {title}\r\n            </div>\r\n            <div className='flex-1 flex justify-end items-center hover:cursor-pointer pr-1'>\r\n              {suffix}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Tab bar or flexible space */}\r\n      {children}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default forwardRef(HCHeader);\r\n","import React, { MouseEvent } from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  onClick?: (e: MouseEvent) => void;\n}\n\nconst HCHeaderIconButton: React.FC<Props> = (props: Props) => {\n  return (\n    <button className='p-3' onClick={props.onClick}>\n      {props.children}\n    </button>\n  );\n};\n\nexport default HCHeaderIconButton;\n","import { useState, useEffect, CSSProperties } from 'react';\nimport React from 'react';\n\nimport useScrollDirection from '~/hooks/utils/useScrollDirection';\n\nimport type { HeaderRegionProps } from '.';\n\nconst HeaderRegion: React.ForwardRefRenderFunction<HTMLDivElement, HeaderRegionProps> = (\n  { children, className = '', behavior, top = 0 },\n  ref,\n) => {\n  const [isDown, isFully] = useScrollDirection();\n  const [positionClass, setPositionClass] = useState('relative');\n  const [maxHeightClass, setMaxHeightClass] = useState('max-h-full');\n  const [style, setStyle] = useState<CSSProperties>({\n    top: 0,\n  });\n\n  useEffect(() => {\n    switch (behavior) {\n      case 'fixed':\n        setPositionClass('sticky z-10');\n        setStyle({\n          top: `${top}px`,\n        });\n        break;\n      case 'expanded':\n        setPositionClass('sticky z-10');\n        isDown ? setStyle({ top: `-${top}px` }) : setStyle({ top });\n        break;\n      case 'fully':\n        isFully ? setMaxHeightClass('max-h-screen') : setMaxHeightClass('max-h-0');\n        break;\n    }\n  }, [behavior, isDown, isFully, top]);\n\n  return (\n    <div\n      ref={ref}\n      className={`w-full ${positionClass} ${maxHeightClass} transition-all duration-300`}\n      style={style}\n    >\n      <div className={`${className}`}>{children}</div>\n    </div>\n  );\n};\n\nexport default React.forwardRef(HeaderRegion);\n","import { ReactNode } from 'react';\n\nimport HCHeader from './Header';\nimport HeaderIconButton from './HeaderIconButton';\nimport HeaderRegion from './HeaderRegion';\n\nexport type HeaderSize = 'l' | 'm' | 's';\nexport type HeaderBehaviorType = 'fixed' | 'expanded' | 'fully';\n\nexport interface HeaderProps {\n  children?: ReactNode;\n  className?: string;\n  prefix?: ReactNode;\n  title?: ReactNode;\n  suffix?: ReactNode;\n  size?: HeaderSize;\n  toolBar?: boolean;\n  behavior?: HeaderBehaviorType;\n}\n\nexport type HeaderRegionType = 'toolBar' | 'tabBar' | 'flexibleSpace';\n\nexport interface HeaderRegionProps {\n  children: ReactNode;\n  className?: string;\n  region?: HeaderRegionType;\n  behavior: HeaderBehaviorType;\n  top?: number;\n}\n\nexport const HCHeaderIconButton = HeaderIconButton;\nexport const HCHeaderRegion = HeaderRegion;\n\nexport default HCHeader;\n","interface Props {\n  className?: string;\n}\n\nconst Plus = (props: Props) => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 20 20'\n      fill='currentColor'\n      className={`w-5 h-5 ${props.className}`}\n    >\n      <path d='M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z' />\n    </svg>\n  );\n};\n\nexport default Plus;\n","interface Props {\n  className?: string;\n}\n\nconst EllipsisVertical = (props: Props) => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 20 20'\n      fill='currentColor'\n      className={`w-5 h-5 ${props.className}`}\n    >\n      <path d='M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z' />\n    </svg>\n  );\n};\n\nexport default EllipsisVertical;\n","import { useState, useEffect, RefObject } from 'react';\n\nconst useHeight = (ref: RefObject<HTMLElement>) => {\n  const [height, setHeight] = useState(0);\n\n  useEffect(() => {\n    if (!ref.current) return;\n\n    const resizeObserver = new ResizeObserver(() => {\n      setHeight(ref.current!.clientHeight);\n    });\n    resizeObserver.observe(ref.current);\n\n    return () => resizeObserver.disconnect();\n  }, [ref]);\n\n  return height;\n};\n\nexport default useHeight;\n"],"names":["useScrollDirection","isDown","setDown","useState","isFully","setFully","useEffect","previousPosition","window","pageYOffset","scrollMoreThanThreshold","currentPosition","Math","abs","threshold","isScrollingDown","updagteScrollingDirection","onScroll","requestAnimationFrame","addEventListener","removeEventListener","HCHeader","children","size","LogoMark","prefix","suffix","behavior","ref","sizeClass","setSizeClass","titleVisibleClass","setTitleVisibleClass","title","_jsxs","Fragment","_jsx","HCHeader$1","forwardRef","HCHeaderIconButton","props","onClick","HeaderRegion","positionClass","setPositionClass","maxHeightClass","setMaxHeightClass","style","setStyle","top","className","HeaderRegion$1","React","HeaderIconButton","HCHeaderRegion","Plus","EllipsisVertical","useHeight","height","setHeight","resizeObserver"],"mappings":"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"}