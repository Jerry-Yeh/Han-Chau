{"version":3,"file":"BottomSheet.stories.222c6a99.js","sources":["../../src/components/BottomSheet/BottomSheet.tsx","../../src/stories/BottomSheet.stories.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {} from 'react-router-dom';\n\ninterface Props {\n  children?: React.ReactNode;\n  className?: string;\n  show: boolean;\n}\n\nconst HCBottomSheet: React.FC<Props> = (props: Props) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const [height, setHeight] = useState(0);\n  const [defaultPos, setDefaultPos] = useState('-bottom-full');\n  const [shadow, setShadow] = useState('');\n\n  useEffect(() => {\n    if (ref.current) {\n      setHeight(ref.current?.clientHeight);\n      setDefaultPos('');\n    }\n  }, [height]);\n\n  useEffect(() => {\n    let timer: ReturnType<typeof setTimeout>;\n\n    if (props.show) {\n      timer = setTimeout(() => {\n        setShadow('drop-shadow-reversed');\n      }, 0);\n    } else {\n      timer = setTimeout(() => {\n        setShadow('');\n      }, 800);\n    }\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [props.show, shadow]);\n\n  return (\n    <div\n      ref={ref}\n      className={`\n        ${props.className}\n        ${defaultPos}\n        ${shadow}\n        w-full pt-9 pb-6 px-4 bg-white box-border rounded-t-3xl\n        fixed left-0 transition-bottom duration-800`}\n      style={{ bottom: props.show ? '0' : `-${height}px` }}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nHCBottomSheet.defaultProps = {\n  show: false,\n  className: '',\n};\n\nexport default HCBottomSheet;\n","import { Meta, StoryObj } from '@storybook/react';\nimport HCBottomSheet from '~/components/BottomSheet';\nimport HCButton from '~/components/Button';\nexport default ({\n  title: 'Components/BottomSheet',\n  component: HCBottomSheet,\n  argTypes: {\n    children: {\n      control: false,\n      description: 'Actions in the bottom sheet.',\n      table: {\n        type: {\n          summary: 'ReactNode'\n        }\n      }\n    },\n    show: {\n      control: 'boolean',\n      description: 'Whether the bottom sheet is visible or not.',\n      table: {\n        type: {\n          summary: 'boolean'\n        },\n        defaultValue: {\n          summary: false\n        }\n      }\n    }\n  }\n} as Meta<typeof HCBottomSheet>);\ntype Story = StoryObj<typeof HCBottomSheet>;\nexport const Basic: Story = {\n  args: {\n    children: <HCButton color='highlight'>馬上前往測試</HCButton>,\n    show: false\n  }\n};\nBasic.parameters = {\n  ...Basic.parameters,\n  storySource: {\n    source: \"{\\n  args: {\\n    children: <HCButton color='highlight'>\\u99AC\\u4E0A\\u524D\\u5F80\\u6E2C\\u8A66</HCButton>,\\n    show: false\\n  }\\n}\",\n    ...Basic.parameters?.storySource\n  }\n};"],"names":["useRef","useState","useEffect","setHeight","setDefaultPos","timer","setShadow","clearTimeout","_jsx","className","defaultPos","shadow","height","children","HCBottomSheet","title","component","argTypes","control","description","table","type","summary","show","defaultValue","Basic","args","parameters","storySource","source"],"mappings":";;;;;;AASA,MAAA,gBAAA,CAAA,UAAA;AACE,QAAA,MAAAA,qBAAA,IAAA;AAEA,QAAA,CAAA,QAAA,SAAA,IAAAC,MAAA,QAAA,SAAA,CAAA;AACA,QAAA,CAAA,YAAA,aAAA,IAAAA,MAAA,QAAA,SAAA,cAAA;AACA,QAAA,CAAA,QAAA,SAAA,IAAAA,MAAA,QAAA,SAAA,EAAA;AAEAC,QAAAA,QAAAA,UAAAA,MAAAA;;AACE,QAAA,IAAA,SAAA;AACEC,iBAAAA,MAAAA,IAAAA,YAAAA,gBAAAA,IAAAA,YAAAA;AACAC,oBAAAA,EAAAA;AAAAA,IAAgB;AAAA,EAClB,GAAA,CAAA,MAAA,CAAA;AAGFF,QAAAA,QAAAA,UAAAA,MAAAA;AACE,QAAA;AAEA,QAAA,MAAA,MAAA;AACEG,cAAAA,WAAAA,MAAAA;AACEC,kBAAAA,sBAAAA;AAAAA,MAAgC,GAAA,CAAA;AAAA,IAC9B,OAAA;AAEJD,cAAAA,WAAAA,MAAAA;AACEC,kBAAAA,EAAAA;AAAAA,MAAY,GAAA,GAAA;AAAA,IACR;AAGR,WAAA,MAAA;AACEC,mBAAAA,KAAAA;AAAAA,IAAkB;AAAA,EACpB,GAAA,CAAA,MAAA,MAAA,MAAA,CAAA;AAGF,SAAAC,oBAAA,OAAA;AAAA,IACE;AAAA,IACE,WAAA;AAAA,UACY,MAAA;AAAA,UACFC;AAAAA,UACNC;AAAAA;AAAAA;AAAAA,IACAC,OAAAA;AAAAA,MAGG,QAAA,MAAA,OAAA,MAAA,IAAA;AAAA,IAAiCC;AAAAA,IAAW,UAAA,MAAA;AAAA,EAE5CC,CAAAA;AAGb;AAEAC,cAAAA,eAAAA;AAAAA,EAA6B,MAAA;AAAA,EACrB,WAAA;AAER;AAEA,MAAA,kBAAA;;;;;;AC3DA,MAAgB,sBAAA;AAAA,EACdC,OAAO;AAAA,EACPC,WAAWF;AAAAA,EACXG,UAAU;AAAA,IACRJ,UAAU;AAAA,MACRK,SAAS;AAAA,MACTC,aAAa;AAAA,MACbC,OAAO;AAAA,QACLC,MAAM;AAAA,UACJC,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,IACAC,MAAM;AAAA,MACJL,SAAS;AAAA,MACTC,aAAa;AAAA,MACbC,OAAO;AAAA,QACLC,MAAM;AAAA,UACJC,SAAS;AAAA,QACX;AAAA,QACAE,cAAc;AAAA,UACZF,SAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEO,MAAMG,QAAe;AAAA,EAC1BC,MAAM;AAAA,IACJb,8BAAW,UAAQ;AAAA,MAAC,OAAM;AAAA,MAAW,UAAC;AAAA,IAAA,CAAiB;AAAA,IACvDU,MAAM;AAAA,EACR;AACF;AACAE,MAAME,aAAa;AAAA,EACjB,GAAGF,MAAME;AAAAA,EACTC,aAAa;AAAA,IACXC,QAAQ;AAAA,IACR,IAAGJ,WAAME,eAANF,mBAAkBG;AAAAA,EACvB;AACF;;"}